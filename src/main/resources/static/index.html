<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>My Journey</title>
</head>
<body>
<div id="list"></div>
</body>
<script>
    fetch("http://localhost:8080/user/journey/all",{
    method:"GET",
    headers:{"Content-Type":"application/json"
    },
      credentials: "include"
    })
     .then(response => {
        if (!response.ok) {
            throw new Error("Failed to fetch journeys");
        }
        return response.json();
    })
    .then(data => {
        const container = document.getElementById("list");

        if (data.length === 0) {
            container.innerHTML = "<p>No journeys found</p>";
            return;
        }

        data.forEach(journey => {
            const item = document.createElement("div");
            item.innerHTML = `
                <h3>${journey.jortitle}</h3>
                <p><b>Location:</b> ${journey.jorlocation}</p>
                <p><b>Description:</b> ${journey.jordescription}</p>
                <hr>
            `;
            container.appendChild(item);
        });
    })
    .catch(err => {
        document.getElementById("list").innerHTML =
            "<p style='color:red;'>Error: " + err.message + "</p>";
    });
</script>
</html>